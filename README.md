# fake-metribeat-data
Generate metricbeat data that can be used for graph, ML, and/or rollup demos. 

This code will generate an index called "fake-metricbeat-idx" which is populated with fake CPU values. The CPU values are stored in "system.cpu.total.pct", which is a field name that would be created if this data were generated by metricbeat. Values that are generated have a random variance around a "stable" value, and anomalies are added to represent either increases or decreases in CPU usage. In order to prevent ML from "learning" about the anomalies that are generated, anomalies randomly moved forward and backwards in time, and the size and duration of each anomaly is varied.

I have written an ariticle that shows how to use Elastic machine learning to detect anomalies in the derivative of the generated values at: https://alexmarquardt.com/using-elastic-machine-learning-to-detect-anomalies-in-derivative-values/

This code has been tested with the included python 3.8 virtual environment on OSX and with Elasticsearch 7.6.1 running on localhost port 9200. 

![Example](https://github.com/alexander-marquardt/fake-metribeat-data/blob/master/example-data.png)
